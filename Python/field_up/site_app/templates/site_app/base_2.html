{% load static %}
<!DOCTYPE html>
<html lang="jp">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Field-UP">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'site_app/css/layout.css' %}">

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script src="{% static 'site_app/js/layout.js' %}"></script>
    
    <!-- その他 -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="  crossorigin="anonymous"></script>
    <script src="https://coco-factory.jp/ugokuweb/wp-content/themes/ugokuweb/data/5-2-5/js/5-2-5.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    
    <!-- フォト -->
    <link href="https://fonts.googleapis.com/css?family=M+PLUS+1p" rel="stylesheet">
    {% comment %} <link rel="stylesheet" type="text/css" href="http://mplus-fonts.sourceforge.jp/webfonts/general-j/mplus_webfonts.css"> {% endcomment %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@300&family=Noto+Serif+JP&display=swap" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=DotGothic16' rel='stylesheet'>

    <!-- 各種設定 -->
    <title>{% block title %}{% endblock %}</title>
    {% block head %}{% endblock %}

    <!-- ファビコン -->
    <link rel="icon" type="image/png" href="{% static 'site_app/img/ファビコン1.png' %}">

    {% comment %} GA4 {% endcomment %}
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-167968304-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-167968304-8');
    </script>

  </head>
  <body>
    <!-- ヘッダー -->
    <header id="header">
      <div class="row bg-1 header-inner pb-3">
        <div class="col-12">
          <a href="{% url 'site_app:top' %}"><img class="m-3 sp-logo" src="{% static 'site_app/img/logo.png' %}" width="350px"></a>
          {% comment %} <video autoplay muted loop src="{% static 'site_app/img/mini_anime.mp4' %}" width="250px" class="float-end anime01"> {% endcomment %}
          <h1 class="title">
            <span>T</span>
            <span>E</span>
            <span>C</span>
            <span>H</span>
            <span>N</span>
            <span>O</span>
            <span>L</span>
            <span>O</span>
            <span>G</span>
            <span>Y</span>
            {% comment %} <span>&nbsp;</span>
            <span>I</span>
            <span>d</span>
            <span>N</span> {% endcomment %}
          </h1>
        </div>

        <div class="openbtn4"><span></span><span></span><span></span></div>

        <div class="hidden-menu row d-none position-fixed vh-100">
          <nav class="nav-2">
            <ul>
              <li class="mb-4"><a href="{% url 'site_app:company' %}">Company</a></li>
              {% comment %} <li class="mb-4"><a href="{% url 'site_app:news' %}">News</a></li> {% endcomment %}
              <li class="mb-4 ps-3 has-child"><a href="#">Content</a>
                <ul>
                  <li class="my-3 ps-3"><a href="{% url 'site_app:appeal' %}">デジタルの魅力</a></li>
                  <li class="pb-3 ps-3 has-child"><a href="{% url 'site_app:example' %}">システム開発</a>
                    <ul>
                      <li class="py-1"><a href="https://www.youtube.com/watch?v=aTx8wclrYVo" target="_blank">映像開発</a></li>
                      <li class="pb-1"><a href="https://field-up.work/demo_room/main.html" target="_blank">VR開発</a></li>
                      <li><a href="https://field-up.work/bound_demo/" target="_blank">簡易ゲーム開発</a></li>
                    </ul>
                  </li>
                  <li class="ps-3 has-child"><a href="{% url 'site_app:lang' %}">プログラミング</a>
                    <ul>
                      <li><a href="{% url 'site_app:vba' %}">VBA</a></li>
                      <li><a href="{% url 'site_app:python' %}">Python</a></li>
                      <li><a href="{% url 'site_app:java' %}">Java</a></li>
                      <li><a href="{% url 'site_app:powerautomate' %}">PowerAutomate</a></li>
                      <li><a href="{% url 'site_app:kotlin' %}">Kotlin</a></li>
                      <li>その他...</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><a href="{% url 'site_app:contacts_faq' %}">Contacts & FAQ</a></li>
            </ul>
          </nav>
        </div>
        
      </div>
    </header>

    <div class="mt-3 mb-4">
      <div class="teto">
        <canvas></canvas>
        {% block contents %}{% endblock %}
      </div>
    </div>

  {% comment %} {% block header %}{% endblock %} {% endcomment %}
  <!-- フッター -->
  <footer class="bg-white border-top border-3 border-info">
    {% include 'site_app/footer.html' %}
  </footer>
    {% comment %} ヘッダーアニメーション {% endcomment %}
    <script>
      // ヘッダーアニメ
      const CLASSNAME = "-visible";
      const TIMEOUT = 2500;
      const $target = $(".title");
  
      setInterval(() => {
        $target.addClass(CLASSNAME);
        setTimeout(() => {
          $target.removeClass(CLASSNAME);
        }, TIMEOUT);
      }, TIMEOUT * 2);
    </script>

    {% comment %} 背景アニメ {% endcomment %}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r67/three.min.js"></script>
  <script>
    var mouseX = 0,
        mouseY = 0,
        windowHalfX = window.innerWidth / 2,
        windowHalfY = window.innerHeight / 2,
        SEPARATION = 200,
        AMOUNTX = 10,
        AMOUNTY = 10,
        camera,
        scene,
        renderer;
    init();
    animate();

    function init() {
      var container,
          separation = 100,
          amountX = 50,
          amountY = 50,
          particle;
      
      container = document.createElement( 'div' );
      document.body.appendChild( container );
      scene = new THREE.Scene();
      renderer = new THREE.CanvasRenderer({ alpha: true }); // gradient; this can be swapped for WebGLRenderer
      renderer.setSize( window.innerWidth, window.innerHeight );
      container.appendChild( renderer.domElement );
      camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        1,
        10000
      );
      camera.position.z = 100;
      // particles
      var PI2 = Math.PI * 2;
      var material = new THREE.SpriteCanvasMaterial({
        color: 0x0db6ff,
        program: function ( context ) {
          context.beginPath();
          context.arc( 0, 0, 0.5, 0, PI2, true );
          context.fill();
        }
      });
      var geometry = new THREE.Geometry();
      for ( var i = 0; i < 100; i ++ ) {
        particle = new THREE.Sprite( material );
        particle.position.x = Math.random() * 2 - 1;
        particle.position.y = Math.random() * 2 - 1;
        particle.position.z = Math.random() * 2 - 1;
        particle.position.normalize();
        particle.position.multiplyScalar( Math.random() * 10 + 450 );
        particle.scale.x = particle.scale.y = 10;
        scene.add( particle );
        geometry.vertices.push( particle.position );
      }
      // lines
      var line = new THREE.Line( geometry, new THREE.LineBasicMaterial( { color: 0x0db6ff, opacity: 0.3 } ) );
      scene.add( line );
      // mousey
      document.addEventListener( 'mousemove', onDocumentMouseMove, false );
      document.addEventListener( 'touchstart', onDocumentTouchStart, false );
      document.addEventListener( 'touchmove', onDocumentTouchMove, false );
      window.addEventListener( 'resize', onWindowResize, false );
    } // end init();

    function onWindowResize() {
      windowHalfX = window.innerWidth / 2;
      windowHalfY = window.innerHeight / 2;
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize( window.innerWidth, window.innerHeight );
    }

    function onDocumentMouseMove(event) {
      mouseX = event.clientX - windowHalfX;
      mouseY = event.clientY - windowHalfY;
    }

    function onDocumentTouchStart( event ) {
      if ( event.touches.length > 1 ) {
        event.preventDefault();
        mouseX = event.touches[ 0 ].pageX - windowHalfX;
        mouseY = event.touches[ 0 ].pageY - windowHalfY;
      }
    }
    function onDocumentTouchMove( event ) {
      if ( event.touches.length == 1 ) {
        event.preventDefault();
        mouseX = event.touches[ 0 ].pageX - windowHalfX;
        mouseY = event.touches[ 0 ].pageY - windowHalfY;
      }
    }
    function animate() {
      requestAnimationFrame( animate );
      render();
    }
    function render() {
      camera.position.x += ( mouseX - camera.position.x ) * .05;
      camera.position.y += ( - mouseY + 200 - camera.position.y ) * .05;
      camera.lookAt( scene.position );
      renderer.render( scene, camera );
    }
  </script>
  
  </body>
</html>